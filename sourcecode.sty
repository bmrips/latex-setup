\DeclareOption* {\PassOptionsToPackage{\CurrentOptions}{minted}}
\ProcessOptions*

\RequirePackage[newfloat]{minted}
\setminted
    { style = lovelace % good styles: friendly, trac, vs, tango, stata, sas, lovelace, algol_nu, bw
    , fontsize = \small
    , autogobble % Automatically remove common whitespace
    , numbers = left
    , numbersep = 5pt
    , bgcolor = gray!10
    }
\setmintedinline
    { fontsize = \normalsize
    , numbers = none
    , bgcolor = {}
    }

% Mimic the listings package with a background colour set
\RequirePackage{mdframed}
\renewenvironment{minted@colorbg}[1]{
    \begin{mdframed}
        [ backgroundcolor = #1
        , hidealllines = true
        , topline = true
        , bottomline = true
        , skipabove = \smallskipamount
        , skipabove = \smallskipamount
        , innerleftmargin = 1pt
        ]
}{
    \end{mdframed}
}

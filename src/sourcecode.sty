\RequirePackage{bmrips/prelude}

\LoadPackage{xcolor,luacolor}
\LoadPackageWithOptions[newfloat]{minted}
\setminted{
    fontsize = \small,
    style = algol_nu, % good styles: friendly, trac, vs, tango, stata, sas, lovelace, algol_nu, bw,
    autogobble, % Automatically remove common whitespace,
    xleftmargin = 1em,
    numbersep = 5pt,
    bgcolor = gray!10,
}
\setmintedinline{bgcolor = {}}

% Mimic the listings package with a background colour set
\LoadPackage{mdframed}
\renewenvironment{minted@colorbg}[1]{
    \begin{mdframed}[
        backgroundcolor = #1,
        hidealllines = true
    ]
}{
    \end{mdframed}
}
